{"version":3,"sources":["server.js"],"names":["express","require","connectDB","userRoutes","transfertRoutes","cors","dotenv","depenseRoutes","app","use","json","corsOptions","config","methods","emailRoutes","allowedHeaders","next","console","error","err","stack","status","message","process","env","PORT","listen","log"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,WAClBC,UAAYD,QAAQ,eADpBD,KAAOC,QAAU,QAGjBE,WAAaF,QAAQ,iBAFrBC,cAAYD,QAAQ,0BAIpBG,gBAAkBH,QAAQ,4BAH1BI,YAAeJ,QAArB,wBAKMK,OAASL,QAAQ,UAHvBK,OAAMC,SAONL,YAEA,IAAMM,IAAMR,UAGZQ,IAAIC,IAAIT,QAAQU,QAGhB,IAAMC,YAAc,CATpBL,OAAOM,wBACPV,QAAS,CAAA,MAAA,OAAA,MAAA,UAEHM,eASc,CAPpB,eAAA,kBAWAA,IAAIC,IAAIJ,KAAKM,cANwBH,IAAAC,IAAA,OAAAN,YACjCU,IAAAA,IAAAA,gBAASN,eAAkCC,IAAAC,IAAA,cAAAK,aAC3CC,IAAAA,IAAAA,kBAAiBX,iBAIrBI,IAAIC,IAAIJ,SAAAA,EAAKM,EAAAA,EAADK,GAWRC,QAAQC,MAAMC,EAAIC,OARlBX,EAAIY,OAAR,KAAgBlB,KAAAA,CAAhBmB,QAAA,mCAGAd,IAAIC,KAAIc,QAAAC,IAARC,MAA2BrB,IAW3BI,IAAIkB,OAAOD,KAAM,WAPbhB,QAAIkB,IAAJlB,+BAAAA,OAA6BgB","file":"server.min.js","sourcesContent":["const express = require('express');\r\nconst connectDB = require('./config/db');\r\nconst cors = require('cors');\r\nconst userRoutes = require('./routes/user');\r\nconst depenseRoutes = require('./routes/depenseRoutes');\r\nconst transfertRoutes = require('./routes/transfertRoutes');\r\nconst emailRoutes = require('./routes/emailRoutes'); // Assurez-vous d'importer les routes d'email\r\nconst dotenv = require('dotenv');\r\n\r\n// Charger les variables d'environnement\r\ndotenv.config();\r\nconnectDB();\r\n\r\nconst app = express();\r\n\r\n// Middleware\r\napp.use(express.json()); // Middleware pour parser le JSON\r\n\r\n// Configuration de CORS\r\nconst corsOptions = {\r\n    origin: 'http://localhost:3000', // Frontend React sur localhost:3000\r\n    methods: ['GET', 'POST', 'PUT', 'DELETE'], // Méthodes autorisées\r\n    allowedHeaders: ['Content-Type', 'Authorization'], // En-têtes autorisés\r\n};\r\n\r\n// Appliquer le middleware CORS\r\napp.use(cors(corsOptions));\r\n\r\n// Routes\r\napp.use('/api', userRoutes);\r\napp.use('/api/depenses', depenseRoutes);\r\napp.use('/api/emails', emailRoutes); // Assurez-vous que emailRoutes est défini\r\napp.use('/api/transferts', transfertRoutes);\r\n\r\n\r\n// Middleware de gestion des erreurs\r\napp.use((err, req, res, next) => {\r\n    console.error(err.stack);\r\n    res.status(500).json({ message: 'Quelque chose a mal tourné !' });\r\n});\r\n\r\n// Démarrer le serveur\r\nconst PORT = process.env.PORT || 5000;\r\napp.listen(PORT, () => {\r\n    console.log(`Serveur démarré sur le port ${PORT}`);\r\n});\r\n"]}